@model EndPoint.WebSite.Areas.Auth.Data.Dto.ConfirmDto
@using Application.Services.FrontEnd.Common
@inject ISiteSetting _siteSetting;
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers

@{
    ViewData["Title"] = "احراز هویت کاربر";
    Layout = "~/Areas/Auth/Views/Shared/_Layout.cshtml";
}

@section Foo{
        <script>
           var TimeToCountDown = @Model.CounterTime;  
        </script>
        <input type="hidden" value="@Model.CounterTime" id="TimeToCountDown"/> 
        <script src="~/assets/js/countdown.js"></script>
}


<div id="main">
    <div class="col-lg-4 col-md-6 col-xs-12 mx-auto">
        <div class="account-box">
            <a href="/" class="logo-account">
                <img src="@_siteSetting.GetSiteSetting().LogoImage">
            </a>
            @if (TempData["ErrorVerifyPhoneNumber"] != null)
            {
                <ul class="auth-error alertSlideUp">
                    <li>
                    <strong>خطا:</strong>

                    @TempData["ErrorVerifyPhoneNumber"]
                </ul>
            }
          
            <span class="account-head-line">کد تایید را وارد نمایید</span>
               
            <form asp-controller="Auth" asp-action="Confirm" method="post">

                <div class="content-account">
                    <div class="massege-light">
                        برای شماره همراه @TempData["PhoneNumber"] کد تایید ارسال گردید
                        <br>
                        <a href="/users/auth/checkout" class="form-edit-number">
                            ویرایش شماره
                        </a>
                    </div>
                    @* <label>کد تایید را وارد نمایید</label> *@
                    <input asp-for="Code" type="password" class="input-email-account Password" placeholder="">
                    <div class="clear"></div>
                    <span asp-validation-for="Code" class="text-danger"></span>

                    <div class="parent-btn">
                        <button class="dk-btn dk-btn-info">
                            تایید
                            <i class="fa fa-sign-in sign-in"></i>
                        </button>
                    </div>
                    @* <div class="form-auth-row"> *@
                    @*     <label for="#" class="ui-checkbox"> *@
                    @*         <input type="checkbox" value="1" name="login" checked="" id="remember"> *@
                    @*         <span class="ui-checkbox-check"></span> *@
                    @*     </label> *@
                    @*     <label for="remember" class="remember-me">مرا به خاطر داشته باش</label> *@
                    @* </div> *@
                </div>
                <input type="hidden" asp-for="PhoneNumber">
                <input type="hidden" name="Captcha" id="captchaInput" value=""/>
            </form>
            
            
            <form asp-controller="Auth" asp-action="AgainSmsSend" method="post">
                <div class="account-footer">
                    کد تایید دریافت نشد؟
                    <button type="submit" id="againsendSms" disabled class="btn-link-">
                        <a class="btn-link-register" id="againCodeShow" style="background-color: #f5fdf0;">
                            دریافت مجدد
                        </a>
                    </button>
                  <div id="app" style="margin-right: 47%"></div>
                </div>
                <input asp-for="PhoneNumber" type="hidden"/>
            </form>
        </div>
    </div>
</div>