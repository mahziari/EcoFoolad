@model EndPoint.WebSite.Areas.Auth.Data.Dto.ForgotPasswordDto
@using Application.Services.FrontEnd.Common
@inject ISiteSetting _siteSetting;
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers

@{
    ViewData["Title"] = "فراموشی رمز عبور ";
    Layout = "~/Areas/Auth/Views/Shared/_Layout.cshtml";
}

@section Foo{
       <script>
               var TimeToCountDown = @Model.CounterTime;  
        </script>
       <input type="hidden" value="@Model.CounterTime" id="TimeToCountDown"/> 
       <script src="~/assets/js/countdown.js"></script>
       
       <script>
        $(".toggle-password").click(function() {
        
          $(this).toggleClass("fa-eye fa-eye-slash");
          var input =$(".Password");
          if (input.attr("type") === "password") {
            input.attr("type", "text");
          } else {
            input.attr("type", "password");
          }
        });
    </script>
}




<div id="main">
    <div class="col-lg-4 col-md-6 col-xs-12 mx-auto">
        <div class="account-box">
            <a href="/" class="logo-account">
                <img src="@_siteSetting.GetSiteSetting().LogoImage">
            </a>
             @if (TempData["ErrorVerifyPhoneNumber"] != null)
                {
                    <ul class="auth-error alertSlideUp">
                        <li>
                        <strong>خطا:</strong>

                        @TempData["ErrorVerifyPhoneNumber"]
                    </ul>
                }
              
              @if (TempData["ForgotPasswordErrors"] != null)
                {
                    <ul class="auth-error alertSlideUp" role="alert">
                        <li>
                        <strong>خطا:</strong>

                        @TempData["ForgotPasswordErrors"]
                    </ul>
                }
              
            
            
               <span class="account-head-line">فراموشی رمز عبور</span>
               
            <form asp-controller="Auth" asp-action="ForgotPassword" method="post">

                <div class="content-account">
                    <label asp-for="Code"></label>
                    <input asp-for="Code" type="text" class="input-email-account" placeholder="">
                    <div class="clear"></div>
                    <span asp-validation-for="Code" class="text-danger"></span>

                
                   <label asp-for="Password"></label>
                    <input asp-for="Password" type="password" class="input-email-account Password" placeholder="">
                    <span toggle="#password-field" class="fa fa-lg fa-eye field-icon toggle-password"></span>
                    <div class="clear"></div>
                    <span asp-validation-for="Password" class="text-danger"></span>
                    
                    
                    
                    <label asp-for="ConfirmPassword"></label>
                    <input asp-for="ConfirmPassword" type="password" class="input-email-account" placeholder="">
                    <div class="clear"></div>
                    <span asp-validation-for="ConfirmPassword" class="text-danger"></span>
                    
                                        
                                        
                    
                    <div class="parent-btn">
                        <button class="dk-btn dk-btn-info">
                            ورود به @_siteSetting.GetSiteSetting().SiteName 
                            <i class="fa fa-sign-in sign-in"></i>
                        </button>
                    </div>
                    @* <div class="form-auth-row"> *@
                    @*     <label for="#" class="ui-checkbox"> *@
                    @*         <input type="checkbox" value="1" name="login" checked="" id="remember"> *@
                    @*         <span class="ui-checkbox-check"></span> *@
                    @*     </label> *@
                    @*     <label for="remember" class="remember-me">مرا به خاطر داشته باش</label> *@
                    @* </div> *@
                </div>

                <input type="hidden" asp-for="PhoneNumber">
                <input type="hidden" asp-for="token">
                 <input type="hidden" name="Captcha" id="captchaInput" value=""/>
            </form>
                
                <div class="account-footer">
                    رمزت یادت اومد؟
                    <a asp-controller="Auth" asp-action="CheckOut" class="btn-link-register">
                        ورود
                    </a>
                    
                    
                    
                    <form asp-controller="Auth" asp-action="AgainSmsSendForgotPassword" method="post">
                                     
                        کد تایید دریافت نشد؟
                        <button type="submit" id="againsendSms" disabled class="btn-link-">
                            <a class="btn-link-register againCodeAfter" id="againCodeShow">
                                دریافت مجدد
                            </a>
                        </button>
                        <div id="app" style="margin-right: 47%"></div>
                        <input asp-for="PhoneNumber" type="hidden"/>
                    </form>
                    
                    
                </div>
           
             
             
        </div>
    </div>
</div>