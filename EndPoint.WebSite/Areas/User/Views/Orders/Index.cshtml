@using Domain.Entities.Orders
@model List<Application.Services.BackEnd.User.Orders.UserOrdersDto>

@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@{
    ViewData["Title"] = "سفارشات";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


 @await Component.InvokeAsync("LayoutComponent")
 <div class="col-lg-9 col-md-8 col-xs-12 pull-left">
        <div class="headline-profile page-profile-order">
            <span>همه سفارش ها</span>
        </div>
        <div class="profile-stats page-profile-order">
            <div class="table-orders">
                <table class="table">
                    <thead class="thead-light">
                        <tr>
                            <th scope="col">#</th>
                            <th scope="col">شماره سفارش</th>
                            <th scope="col">تاریخ ثبت سفارش</th>
                            <th scope="col">مبلغ قابل پرداخت</th>
                            <th scope="col">مبلغ کل</th>
                            <th scope="col">عملیات پرداخت</th>
                            <th scope="col"></th>
                            <th scope="col">جزئیات</th>
                        </tr>
                    </thead>
                    <tbody>
                    @{ var i = 0;}
                    @foreach (var items in Model)
                    {
                        i++;
                        <tr>
                            <td>@i</td>
                            <td class="order-code">#@items.Id</td>
                            <td>@items.OrderDate.ToPersianDateTime().ToString("yyyy/MM/d")</td>
                            <td>@items.OrderItems.Count</td>
                            <td> @items.TotalPrice.ToString("n0") تومان</td>
                            @if (@items.PaymentStatus == PaymentStatus.Paid)
                            {
                                <td class="text-success"> پرداخت موفق</td>
                            }
                            else
                            {
                                <td class="text-danger"> پرداخت ناموفق</td>
                            }
                            @if (items.OrderStatus == OrderStatus.Processing)
                                {
                                    <td>سفارش در حال انجام میباشد</td>
                                }else if (items.OrderStatus == OrderStatus.Canceled)
                                {
                                    <td>سفارش کنسل شده است</td>
                                }
                                else if (items.OrderStatus == OrderStatus.Delivered)
                                {
                                    <td class="text-success">سفارش تحویل داده شده است</td>
                                }
                                else if (items.OrderStatus == OrderStatus.Returned)
                                {
                                    <td>سفارش مرجوع گردیده است</td>
                                }
                            <td class="detail"><a asp-area="User" asp-controller="Orders" asp-action="Details" asp-route-id="@items.Id"><i class="fa fa-angle-left"></i></a></td>
                        </tr>
                    }
                    </tbody>
                </table>
            </div>
        </div>

        <!--        responsive-profile-order------------------------->
        <div class="page-profile">
            <div class="page-navigation">
                <div class="page-navigation-title">سفارش‌های من</div>
                <a href="#" class="page-navigation-btn-back">بازگشت <i class="fa fa-angle-left"></i></a>
            </div>
            <div class="profile-orders">
                
                    @foreach (var items in Model)
                    {
                        <div class="collapse">
                            <div class="profile-orders-item">
                                <div class="profile-orders-header">
                                    <a href="profile-order-2.html" class="profile-orders-header-details">
                                        <div class="profile-orders-header-summary">
                                            <div class="profile-orders-header-row">
                                                <span class="profile-orders-header-id">#@items.Id</span>
                                                   @if (items.OrderStatus == OrderStatus.Processing)
                                                    {
                                                        <span class="profile-orders-header-state">سفارش در حال انجام میباشد</span>
                                                    }else if (items.OrderStatus == OrderStatus.Canceled)
                                                    {
                                                        <span class="profile-orders-header-state">سفارش کنسل شده است</span>
                                                    }
                                                    else if (items.OrderStatus == OrderStatus.Delivered)
                                                    {
                                                        <span class="profile-orders-header-state">سفارش تحویل داده شده است</span>
                                                    }
                                                    else if (items.OrderStatus == OrderStatus.Returned)
                                                    {
                                                        <span class="profile-orders-header-state">سفارش مرجوع گردیده است</span>
                                                    }
                                            </div>
                                        </div>
                                    </a>
                                    <hr class="ui-separator">
                                    <div class="profile-orders-header-data">
                                        <div class="profile-info-row">
                                            <div class="profile-info-label">تاریخ ثبت سفارش</div>
                                            <div class="profile-info-value">@items.OrderDate.ToPersianDateTime().ToString("yyyy/MM/d")</div>
                                        </div>
                                        <div class="profile-info-row">
                                            <div class="profile-info-label">مبلغ قابل پرداخت</div>
                                            <div class="profile-info-value"></div>
                                        </div>
                                        <div class="profile-info-row">
                                            <div class="profile-info-label">مبلغ کل</div>
                                            <div class="profile-info-value">@items.TotalPrice.ToString("n0")</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                    }
            </div>
        </div>
        <!--        responsive-profile-order------------------------->
    </div>